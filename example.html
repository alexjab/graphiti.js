<!doctype html>
<html>
  <head>
    <title>graphiti.js example</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <canvas id="c" height="500" width="500"></canvas>
    <script src="graphiti.js"></script>
    <script>
      var a = document.body;
      var b = document.getElementById ('c');

      var plane = new Plane (b);

      var na = plane.createNode ('a');
      var nb = plane.createNode ('b');
      var nc = plane.createNode ('c');
      var nd = plane.createNode ('d');
      var ne = plane.createNode ('e');
      var nf = plane.createNode ('f');
      var ng = plane.createNode ('g');
      var la = plane.createLink (na, nb);
      var lb = plane.createLink (nb, nc);
      var lc = plane.createLink (nc, na);
      var ld = plane.createLink (nd, na);
      var le = plane.createLink (nd, nb);
      var le = plane.createLink (nd, ne);
      var le = plane.createLink (na, nf);
      var le = plane.createLink (nf, ng);

      plane.organize ('harmony');

      var el = new EventLayer (plane);
      //var el = new EventLayer (plane, {showTrace: true});
      el.connect ();

      plane.draw ();

      var cleared = true;
      plane.on ('mousemove', function (e) {
        var position = plane.getMousePosition (e);
        var item = el.getItemByPosition (position.x, position.y);
        
        if (item) {
          plane.clear ();
          plane.draw ();
          plane.highlight (item);
          cleared = false;
        } else {
          if (cleared === false) {
            plane.clear ();
            plane.draw ();
            cleared = true;
          }
        }
      });
    </script>
  </body>
</html>

